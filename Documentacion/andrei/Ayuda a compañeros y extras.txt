Siento que esta parte esté menos estilizada.
Creo que no lo merece, ya que es una ayuda a los compañeros y al proyecto en general y no entraba dentro de mi incumbencia,
pero ciertos compañeros iban algo apurados y, además, había partes del proyecto (como la de desconectra, permisos para entrar a las páginas)
que quizá olvidasen, así que preferí dedicarle un rato y hacerlo.
==============================================================================
- Ahora se envian mails tanto a los TIC como al usuario que abrió la incidencia.
- Ahora si el usuario está conectado, le sale un botón desconectar en el menú.
- Creado controlador para desconectar.
- Ahora la vista dee mantenimiento muestra los nombres de usuarios departamentos etc. correctamente, ademas de cogerlos tanto de la base de datos como de la sesion.
- Agregada variable global de twig para comprobar si un usuario está conectado.
- Fix para la tabla de mantenimiento por el tema de los permisos.
- Migrada db a la nueva para tener las tablas comunes.
- Fix para que ahora muestre todos los roles del usuario y no solo uno.
- REFIX PARA EL MAILER (erasto y los rebase...)
- Ahora el mantenimiento manda emails al realizar acciones.
- Agregado fix para mandar emails.
- Agregados fix en pagina de mantenimiento.
- Ahora la página de mantenimiento ya funciona con sesión.
- Fixes, mejoras y optimizaciones varias.
- ahora comprueba si el usuario esta conectado al acceder a un controlador que requiera login.
- si el usuario no esta conectado, ahora se muestra una pagina de error diciendole que nop tiene permisos.
- agregada dicha pagina de error.
- Código documentado.
- Agregado soporte para las sesiones (session_start();).
- agregado servicio para facilitar la lectura de si el usuario esta online ahorrando consultas y memoria.
- fix para que se muestren todos los errores de php pero solo en localhost
- ahora al clickar elementso del menu te lleva al controlador indicado (por constantes).
- Agregadas constantes para las páginas faltantes.
- Agregada vista por defecto del index para prevenir páginas en blanco al ir hacia controladores no existentes.
- Fix para que no se muestre error cuando no se indica ningun controlador.
- Renombrados ficheros .inc a .php.
